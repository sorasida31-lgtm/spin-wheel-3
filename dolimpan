<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì• ë‹ˆë©”ì´ì…˜ ëŒë¦¼íŒ - ë›°ëŠ” ì„ ìˆ˜ ë²„ì „</title>
    <style>
        body {
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .title {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5rem;
            font-weight: bold;
        }

        .controls {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
            align-items: center;
            justify-content: center;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }

        .control-group label {
            font-weight: 600;
            color: #555;
            font-size: 0.9rem;
        }

        input, select, button {
            padding: 10px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        input:focus, select:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .color-scheme-btn {
            background: #667eea;
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
            min-width: 120px;
        }

        .color-scheme-btn:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }

        .color-scheme-btn.rainbow {
            background: linear-gradient(45deg, #ff9a9e, #fecfef, #fecfef, #a8edea, #fed6e3);
            color: #333 !important;
            font-weight: bold;
            text-shadow: 1px 1px 2px rgba(255,255,255,0.8);
        }

        .click-indicator {
            display: inline-block;
            margin-left: 8px;
            font-size: 1.2em;
            color: #00ff00;
            animation: sparkle-click 1.5s ease-in-out infinite;
            text-shadow: 
                0 0 5px #000000,
                0 0 10px #000000,
                0 0 15px #000000;
        }

        @keyframes sparkle-click {
            0%, 100% {
                transform: scale(1);
                opacity: 1;
                text-shadow: 
                    0 0 5px #000000,
                    0 0 10px #000000,
                    0 0 15px #000000;
            }
            50% {
                transform: scale(1.2);
                opacity: 0.8;
                text-shadow: 
                    0 0 8px #000000,
                    0 0 16px #000000,
                    0 0 24px #000000,
                    0 0 32px #000000;
            }
        }

        .main-content {
            display: flex;
            gap: 30px;
            align-items: flex-start;
            flex-wrap: wrap;
        }

        .wheel-container {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
        }

        .wheel-wrapper {
            position: relative;
            margin-bottom: 20px;
        }

        .wheel {
            width: 400px;
            height: 400px;
            border-radius: 50%;
            position: relative;
            transition: transform 3s cubic-bezier(0.23, 1, 0.32, 1);
            border: 4px solid #333;
            overflow: hidden;
        }

        .wheel-segment {
            position: absolute;
            width: 50%;
            height: 50%;
            transform-origin: 100% 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 0.9rem;
            color: #333;
            text-align: center;
            padding: 10px;
            box-sizing: border-box;
        }

        .wheel-center {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            z-index: 10;
            cursor: pointer;
            transition: all 0.3s ease;
            background: radial-gradient(circle at 30% 30%, #4a4a4a, #1a1a1a, #000000);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                inset 2px 2px 8px rgba(255, 255, 255, 0.1),
                inset -2px -2px 8px rgba(0, 0, 0, 0.8),
                0 4px 12px rgba(0, 0, 0, 0.6),
                0 2px 6px rgba(0, 0, 0, 0.4);
            border: 1px solid #333;
        }

        .wheel-center:hover {
            transform: translate(-50%, -50%) scale(1.1);
        }

        .center-circles {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
        }

        .center-circle {
            position: absolute;
            border-radius: 50%;
            background: black;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .center-circle-1 {
            width: 15px;
            height: 15px;
        }

        .center-circle-2 {
            width: 35px;
            height: 35px;
            opacity: 0.7;
        }

        .center-circle-3 {
            width: 55px;
            height: 55px;
            opacity: 0.4;
        }

        .spinning-rings {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 100%;
            height: 100%;
            transition: transform 3s cubic-bezier(0.23, 1, 0.32, 1);
        }

        .ring {
            position: absolute;
            border-radius: 50%;
            border: 3px solid white;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .ring-1 {
            width: 20px;
            height: 20px;
            border-width: 2px;
        }

        .ring-2 {
            width: 35px;
            height: 35px;
            border-width: 2px;
            opacity: 0.8;
        }

        .ring-3 {
            width: 50px;
            height: 50px;
            border-width: 3px;
            opacity: 0.6;
        }

        .ring-4 {
            width: 50px;
            height: 50px;
            border-width: 2px;
            opacity: 0.4;
        }

        .ring-5 {
            width: 60px;
            height: 60px;
            border-width: 1px;
            opacity: 0.3;
        }

        .wheel-pointer {
            position: absolute;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            width: 0;
            height: 0;
            border-left: 25px solid transparent;
            border-right: 25px solid transparent;
            border-top: 50px solid #000;
            z-index: 5;
            filter: drop-shadow(0 0 8px #ffd700) drop-shadow(0 0 16px #ffd700) drop-shadow(0 0 24px #ffd700);
            animation: pointer-glow 2s ease-in-out infinite alternate;
        }

        @keyframes pointer-glow {
            0% {
                filter: drop-shadow(0 0 8px #ffd700) drop-shadow(0 0 16px #ffd700) drop-shadow(0 0 24px #ffd700);
            }
            100% {
                filter: drop-shadow(0 0 12px #ffd700) drop-shadow(0 0 24px #ffd700) drop-shadow(0 0 36px #ffd700) drop-shadow(0 0 48px #ffd700);
            }
        }

        .spin-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.2rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(255, 107, 107, 0.4);
        }

        .spin-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(255, 107, 107, 0.6);
        }

        .spin-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .participants-section {
            flex: 1;
            min-width: 300px;
        }

        .participants-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
        }

        .file-upload-section {
            margin-bottom: 20px;
            padding: 15px;
            border: 2px dashed #667eea;
            border-radius: 10px;
            background: #f8f9ff;
            text-align: center;
        }

        .file-upload-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin: 5px;
        }

        .file-upload-btn:hover {
            background: #5a67d8;
        }

        .file-upload-btn#loadPreviousBtn {
            background: #9b59b6;
        }

        .file-upload-btn#loadPreviousBtn:hover {
            background: #8e44ad;
        }

        .file-upload-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .practice-btn {
            background: #e67e22;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin: 5px;
        }

        .practice-btn:hover {
            background: #d35400;
        }

        .reset-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin: 5px;
        }

        .reset-btn:hover {
            background: #ff5252;
        }

        .file-input {
            display: none;
        }

        .upload-info {
            font-size: 0.9rem;
            color: #666;
            margin-top: 10px;
        }

        .upload-status {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
            font-weight: 600;
        }

        .upload-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        .upload-error {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .participants-container {
            max-height: 400px;
            overflow-y: auto;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            padding: 15px;
            background: #f8f9fa;
        }

        .participant-input {
            display: flex;
            gap: 10px;
            margin-bottom: 10px;
            align-items: center;
        }

        .participant-input input {
            flex: 1;
            margin: 0;
        }

        .remove-btn {
            background: #ff4757;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 1.2rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .remove-btn:hover {
            background: #ff3742;
        }

        .add-btn {
            background: #2ed573;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
            width: 100%;
        }

        .add-btn:hover {
            background: #26d063;
        }

        .apply-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 10px;
            width: 100%;
            font-size: 1.1rem;
        }

        .apply-btn:hover {
            background: #5a67d8;
            transform: translateY(-1px);
        }

        .popup {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            animation: fadeIn 0.3s ease;
        }

        .popup-content {
            background: white;
            padding: 50px;
            border-radius: 20px;
            text-align: center;
            max-width: 500px;
            width: 90%;
            animation: popIn 0.5s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .popup-title {
            font-size: 2rem;
            color: #333;
            margin-bottom: 20px;
            font-weight: bold;
        }

        .popup-winner {
            font-size: 3rem;
            font-weight: bold;
            color: #ff6b6b;
            margin: 20px 0;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
            animation: winner-spin 3s ease-out forwards;
            transform-style: preserve-3d;
        }

        @keyframes winner-spin {
            0% {
                transform: rotateY(0deg) scale(1);
            }
            8.33% {
                transform: rotateY(90deg) scale(1.05);
            }
            16.67% {
                transform: rotateY(180deg) scale(1.1);
            }
            25% {
                transform: rotateY(270deg) scale(1.05);
            }
            33.33% {
                transform: rotateY(360deg) scale(1);
            }
            41.67% {
                transform: rotateY(450deg) scale(1.05);
            }
            50% {
                transform: rotateY(540deg) scale(1.1);
            }
            58.33% {
                transform: rotateY(630deg) scale(1.05);
            }
            66.67% {
                transform: rotateY(720deg) scale(1);
            }
            75% {
                transform: rotateY(810deg) scale(1.05);
            }
            83.33% {
                transform: rotateY(900deg) scale(1.1);
            }
            91.67% {
                transform: rotateY(990deg) scale(1.05);
            }
            100% {
                transform: rotateY(1080deg) scale(1);
            }
        }

        .popup-close {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            margin-top: 20px;
        }

        .popup-close:hover {
            background: #5a67d8;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes popIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .confetti {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #f0f;
            animation: confetti-fall 4s linear infinite;
            z-index: 1002;
        }

        @keyframes confetti-fall {
            0% {
                transform: translateY(-50px) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(400px) rotate(720deg);
                opacity: 0;
            }
        }

        @keyframes mini-spin {
            0% {
                transform: rotate(0deg);
            }
            100% {
                transform: rotate(360deg);
            }
        }

        @keyframes runner-bounce {
            0%, 100% {
                transform: translateY(0px);
            }
            50% {
                transform: translateY(-3px);
            }
        }

        @keyframes runner-arms {
            0% {
                transform: rotate(-5deg);
            }
            100% {
                transform: rotate(5deg);
            }
        }

        @keyframes runner-legs {
            0% {
                transform: translateY(0px) scaleY(1);
            }
            100% {
                transform: translateY(-1px) scaleY(0.95);
            }
        }

        @keyframes runner-feet {
            0% {
                transform: translateY(0px);
            }
            100% {
                transform: translateY(-1px);
            }
        }

        .confetti-1 { background: #ff6b6b; animation-delay: 0s; }
        .confetti-2 { background: #4ecdc4; animation-delay: 0.1s; }
        .confetti-3 { background: #45b7d1; animation-delay: 0.2s; }
        .confetti-4 { background: #96ceb4; animation-delay: 0.3s; }
        .confetti-5 { background: #ffeaa7; animation-delay: 0.4s; }
        .confetti-6 { background: #dda0dd; animation-delay: 0.5s; }
        .confetti-7 { background: #98d8c8; animation-delay: 0.6s; }
        .confetti-8 { background: #f7dc6f; animation-delay: 0.7s; }
        .confetti-9 { background: #bb8fce; animation-delay: 0.8s; }
        .confetti-10 { background: #85c1e9; animation-delay: 0.9s; }

        @media (max-width: 768px) {
            .main-content {
                flex-direction: column;
                align-items: center;
            }
            
            .wheel-container {
                min-width: 280px;
                width: 100%;
                max-width: 350px;
                margin: 0 auto;
            }
            
            .wheel {
                width: 280px;
                height: 280px;
                margin: 0 auto;
            }
            
            .wheel-segment {
                font-size: 0.7rem;
            }
            
            .participants-section {
                width: 100%;
                max-width: 500px;
                margin: 0 auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="title">
            ëŒë ¤!ëŒë ¤! ëŒë¦¼íŒ!
            <svg width="60" height="60" viewBox="0 0 60 60" style="display: inline-block; margin-left: 15px; vertical-align: middle; animation: mini-spin 4s linear infinite;">
                <!-- ëŒë¦¼íŒ ë°°ê²½ -->
                <circle cx="30" cy="30" r="25" fill="#f0f0f0" stroke="#333" stroke-width="2"/>
                
                <!-- 8ê°œ êµ¬ê°„ -->
                <path d="M 30 30 L 30 5 A 25 25 0 0 1 47.68 12.32 Z" fill="#FF8A80" stroke="#333" stroke-width="1"/>
                <path d="M 30 30 L 47.68 12.32 A 25 25 0 0 1 55 30 Z" fill="#FFB366" stroke="#333" stroke-width="1"/>
                <path d="M 30 30 L 55 30 A 25 25 0 0 1 47.68 47.68 Z" fill="#FFFFBA" stroke="#333" stroke-width="1"/>
                <path d="M 30 30 L 47.68 47.68 A 25 25 0 0 1 30 55 Z" fill="#BAFFC9" stroke="#333" stroke-width="1"/>
                <path d="M 30 30 L 30 55 A 25 25 0 0 1 12.32 47.68 Z" fill="#BAE1FF" stroke="#333" stroke-width="1"/>
                <path d="M 30 30 L 12.32 47.68 A 25 25 0 0 1 5 30 Z" fill="#87CEEB" stroke="#333" stroke-width="1"/>
                <path d="M 30 30 L 5 30 A 25 25 0 0 1 12.32 12.32 Z" fill="#DDA0DD" stroke="#333" stroke-width="1"/>
                <path d="M 30 30 L 12.32 12.32 A 25 25 0 0 1 30 5 Z" fill="#FFB6C1" stroke="#333" stroke-width="1"/>
                
                <!-- ì¤‘ì•™ ì› -->
                <circle cx="30" cy="30" r="6" fill="#333"/>
                <circle cx="30" cy="30" r="3" fill="#666"/>
                
                <!-- í™”ì‚´í‘œ -->
                <polygon points="30,2 27,8 33,8" fill="#000" stroke="#fff" stroke-width="0.5"/>
            </svg>
        </h1>
        
        <div class="controls">
            <div class="control-group">
                <label>ì°¸ê°€ì ìˆ˜</label>
                <input type="number" id="segmentCount" min="2" max="101" value="8">
            </div>
            <div class="control-group">
                <label>ìƒ‰ìƒí…Œë§ˆ (í´ë¦­! ë‚˜ë§Œì˜ ëŒë¦¼íŒ ìƒ‰ìƒì„ ì„ íƒí•˜ì„¸ìš”!)</label>
                <button class="color-scheme-btn" id="colorScheme" onclick="toggleColorScheme()">ìƒ‰ìƒ ì„ íƒ</button>
            </div>
        </div>

        <div class="main-content">
            <div class="wheel-container">
                <div class="wheel-wrapper">
                    <div class="wheel-pointer"></div>
                    <div class="wheel" id="wheel"></div>
                    <div class="wheel-center" onclick="spinWheel()">
                        <div class="center-circles">
                            <div class="center-circle center-circle-3"></div>
                            <div class="center-circle center-circle-2"></div>
                            <div class="center-circle center-circle-1"></div>
                        </div>
                        <div class="spinning-rings" id="spinningRings">
                            <div class="ring ring-1"></div>
                            <div class="ring ring-2"></div>
                            <div class="ring ring-3"></div>
                            <div class="ring ring-4"></div>
                            <div class="ring ring-5"></div>
                        </div>
                    </div>
                </div>
                <button class="spin-btn" id="spinBtn" onclick="spinWheel()">ëŒë¦¼íŒ ëŒë¦¬ê¸°! <span style="font-size: 1.8rem;">ğŸ²</span></button>
            </div>

            <div class="participants-section">
                <h3 class="participants-title">
                    ì°¸ê°€ì ëª©ë¡
                    <svg width="40" height="40" viewBox="0 0 40 40" style="margin-left: 5px; animation: runner-bounce 1.2s ease-in-out infinite;">
                        <!-- ë¨¸ë¦¬ -->
                        <circle cx="20" cy="18" r="12" fill="#FFE0BD" stroke="#333" stroke-width="1.5"/>
                        
                        <!-- ë¨¸ë¦¬ë  -->
                        <ellipse cx="20" cy="12" rx="13" ry="3" fill="#FF6B6B" stroke="#333" stroke-width="1"/>
                        <rect x="7" y="10" width="26" height="4" fill="#FF6B6B" stroke="#333" stroke-width="1" rx="2"/>
                        
                        <!-- ë¨¸ë¦¬ë  ë§¤ë“­ -->
                        <ellipse cx="33" cy="12" rx="3" ry="2" fill="#FF4757" stroke="#333" stroke-width="1"/>
                        <ellipse cx="35" cy="10" rx="2" ry="1.5" fill="#FF4757" stroke="#333" stroke-width="1"/>
                        
                        <!-- ëˆˆ -->
                        <circle cx="16" cy="17" r="2" fill="#333"/>
                        <circle cx="24" cy="17" r="2" fill="#333"/>
                        <circle cx="16.5" cy="16.5" r="0.8" fill="#fff"/>
                        <circle cx="24.5" cy="16.5" r="0.8" fill="#fff"/>
                        
                        <!-- ì… -->
                        <path d="M 17 22 Q 20 24 23 22" stroke="#333" stroke-width="1.5" fill="none" stroke-linecap="round"/>
                        
                        <!-- ëª¸ -->
                        <rect x="15" y="28" width="10" height="8" fill="#4ECDC4" stroke="#333" stroke-width="1" rx="2"/>
                        
                        <!-- íŒ” (ë›°ëŠ” ë™ì‘) -->
                        <g style="animation: runner-arms 0.6s ease-in-out infinite alternate;">
                            <circle cx="12" cy="32" r="3" fill="#FFE0BD" stroke="#333" stroke-width="1"/>
                            <circle cx="28" cy="32" r="3" fill="#FFE0BD" stroke="#333" stroke-width="1"/>
                        </g>
                        
                        <!-- ìš´ë™ë³µ ë²ˆí˜¸ -->
                        <text x="20" y="34" text-anchor="middle" font-size="6" font-weight="bold" fill="#fff">1</text>
                        
                        <!-- ë‹¤ë¦¬ (ë›°ëŠ” ë™ì‘) -->
                        <g style="animation: runner-legs 0.6s ease-in-out infinite alternate;">
                            <rect x="17" y="35" width="2.5" height="4" fill="#FFE0BD" stroke="#333" stroke-width="1" rx="1"/>
                            <rect x="20.5" y="35" width="2.5" height="4" fill="#FFE0BD" stroke="#333" stroke-width="1" rx="1"/>
                        </g>
                        
                        <!-- ì‹ ë°œ (ë›°ëŠ” ë™ì‘) -->
                        <g style="animation: runner-feet 0.6s ease-in-out infinite alternate;">
                            <ellipse cx="18" cy="39.5" rx="2" ry="1" fill="#333"/>
                            <ellipse cx="22" cy="39.5" rx="2" ry="1" fill="#333"/>
                        </g>
                    </svg>
                </h3>
                
                <div class="file-upload-section">
                    <div>ğŸ“ íŒŒì¼ì—ì„œ ì°¸ê°€ì ë¶ˆëŸ¬ì˜¤ê¸°</div>
                    <div style="display: flex; gap: 10px; justify-content: center; flex-wrap: wrap;">
                        <input type="file" id="fileInput" class="file-input" accept=".txt,.csv" onchange="handleFileUpload(event)">
                        <button class="file-upload-btn" onclick="document.getElementById('fileInput').click()">íŒŒì¼ ì„ íƒ</button>
                        <button class="file-upload-btn" id="loadPreviousBtn" onclick="loadPreviousSettings()" disabled title="ì´ì „ ì„¤ì •ì´ ì—†ìŠµë‹ˆë‹¤">ğŸ“‹ ë¶ˆëŸ¬ì˜¤ê¸°</button>
                        <button class="practice-btn" onclick="loadPracticeFile()">ğŸ“ ì—°ìŠµíŒŒì¼</button>
                        <button class="reset-btn" onclick="resetToDefault()">ğŸ”„ ê¸°ë³¸ê°’ìœ¼ë¡œ ë˜ëŒë¦¬ê¸°</button>
                    </div>
                    <div class="upload-info">
                        ì§€ì› í˜•ì‹: í…ìŠ¤íŠ¸(.txt), CSV(.csv)<br>
                        ê° ì¤„ë§ˆë‹¤ í•œ ëª…ì”© ë˜ëŠ” ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì‘ì„±í•´ì£¼ì„¸ìš”<br>
                        <strong>ğŸ’¡ í•œê¸€ ê¹¨ì§ ë°©ì§€:</strong> ë©”ëª¨ì¥ì—ì„œ "ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì €ì¥" â†’ ì¸ì½”ë”©ì„ "UTF-8"ë¡œ ì„ íƒí•˜ì—¬ ì €ì¥<br>
                        <strong>ğŸ“‹ ë¶ˆëŸ¬ì˜¤ê¸°:</strong> ë°”ë¡œ ì§ì „ì— ì ìš©í–ˆë˜ ëŒë¦¼íŒ ì„¤ì •ì„ ë‹¤ì‹œ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤<br>
                        <strong>ğŸ“ ì—°ìŠµíŒŒì¼:</strong> 29ëª…ì˜ ìƒ˜í”Œ ì°¸ê°€ì ëª©ë¡ì„ ë¶ˆëŸ¬ì˜µë‹ˆë‹¤
                    </div>
                    <div id="uploadStatus"></div>
                </div>

                <div class="participants-container">
                    <div id="participantsList"></div>
                    <button class="add-btn" onclick="addParticipant()">+ ì°¸ê°€ì ì¶”ê°€</button>
                    <button class="apply-btn" onclick="applyParticipantsToWheel()">ğŸ¯ ì›íŒì— ì ìš©í•˜ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <div class="popup" id="popup">
        <div class="popup-content">
            <div class="popup-title">ğŸ‰ ë‹¹ì²¨ì ë°œí‘œ! ğŸ‰</div>
            <div class="popup-winner" id="popupWinner"></div>
            <button class="popup-close" onclick="closePopup()">í™•ì¸</button>
        </div>
    </div>

    <script>
        let colorSchemeIndex = 0; // 0: ë ˆì¸ë³´ìš°, 1: í°ìƒ‰+ì•„ì´ë³´ë¦¬, 2: í°ìƒ‰+í•˜ëŠ˜ìƒ‰, 3: í°ìƒ‰+í•‘í¬, 4: í°ìƒ‰+ê²€ì •, 5: ì „ì²´ ê²€ì •, 6: ì „ì²´ í°ìƒ‰
        let isSpinning = false;
        let participants = ['ì°¸ê°€ì1', 'ì°¸ê°€ì2', 'ì°¸ê°€ì3', 'ì°¸ê°€ì4', 'ì°¸ê°€ì5', 'ì°¸ê°€ì6', 'ì°¸ê°€ì7', 'ì°¸ê°€ì8'];
        let previousSettings = null;
        let segmentAngles = []; // ê° êµ¬ê°„ì˜ ì‹œì‘ ê°ë„ë¥¼ ì €ì¥

        const pastelColors = [
            '#FF8A80', '#FFB366', '#FFFFBA', '#BAFFC9', 
            '#BAE1FF', '#87CEEB', '#DDA0DD', '#FFB6C1'
        ];

        const colorSchemes = [
            { name: 'ë ˆì¸ë³´ìš°', colors: pastelColors, textColor: '#333', strokeColor: '#333' },
            { name: 'í°ìƒ‰+ì•„ì´ë³´ë¦¬', colors: ['#ffffff', '#f5f5dc'], textColor: '#333', strokeColor: '#333' },
            { name: 'í°ìƒ‰+í•˜ëŠ˜ìƒ‰', colors: ['#ffffff', '#e6f3ff'], textColor: '#333', strokeColor: '#333' },
            { name: 'í°ìƒ‰+í•‘í¬', colors: ['#ffffff', '#ffe6f0'], textColor: '#333', strokeColor: '#333' },
            { name: 'í°ìƒ‰+ì—°ë‘', colors: ['#ffffff', '#e8f5e8'], textColor: '#333', strokeColor: '#333' },
            { name: 'ì „ì²´ ê²€ì •', colors: ['#000000'], textColor: '#ffffff', strokeColor: '#ffffff' },
            { name: 'ì „ì²´ í°ìƒ‰', colors: ['#ffffff'], textColor: '#333', strokeColor: '#333' }
        ];

        function initializeParticipants() {
            updateParticipantsList();
            updateWheel();
        }

        function updateParticipantsList() {
            const container = document.getElementById('participantsList');
            container.innerHTML = '';
            
            participants.forEach((participant, index) => {
                const div = document.createElement('div');
                div.className = 'participant-input';
                div.innerHTML = `
                    <input type="text" value="${participant}" onchange="updateParticipant(${index}, this.value)" placeholder="ì°¸ê°€ì ì´ë¦„">
                    ${participants.length > 2 ? `<button class="remove-btn" onclick="removeParticipant(${index})">Ã—</button>` : ''}
                `;
                container.appendChild(div);
            });
        }

        function addParticipant() {
            if (participants.length < 101) {
                participants.push(`ì°¸ê°€ì${participants.length + 1}`);
                document.getElementById('segmentCount').value = participants.length;
                updateParticipantsList();
            }
        }

        function removeParticipant(index) {
            if (participants.length > 2) {
                participants.splice(index, 1);
                document.getElementById('segmentCount').value = participants.length;
                updateParticipantsList();
            }
        }

        function updateParticipant(index, value) {
            const newName = value || `ì°¸ê°€ì${index + 1}`;
            participants[index] = newName;
        }

        document.getElementById('segmentCount').addEventListener('change', function() {
            const count = parseInt(this.value);
            if (count >= 2 && count <= 101) {
                while (participants.length < count) {
                    participants.push(`ì°¸ê°€ì${participants.length + 1}`);
                }
                while (participants.length > count) {
                    participants.pop();
                }
                updateParticipantsList();
                updateWheel(); // ì›íŒë„ ì¦‰ì‹œ ì—…ë°ì´íŠ¸
            } else if (count > 101) {
                alert('ìµœëŒ€ 101ëª…ê¹Œì§€ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                this.value = participants.length;
            }
        });

        function toggleColorScheme() {
            colorSchemeIndex = (colorSchemeIndex + 1) % colorSchemes.length;
            const btn = document.getElementById('colorScheme');
            const currentScheme = colorSchemes[colorSchemeIndex];
            
            // ë ˆì¸ë³´ìš°ì¼ ë•ŒëŠ” ì‚¼ê°í˜• í¬ì¸í„°ì™€ ë°˜ì§ì´ëŠ” íš¨ê³¼ ì¶”ê°€
            if (colorSchemeIndex === 0) {
                btn.innerHTML = currentScheme.name + ' <span class="click-indicator">â–¶</span>';
                btn.classList.add('rainbow');
            } else {
                btn.textContent = currentScheme.name;
                btn.classList.remove('rainbow');
            }
            
            updateWheel();
        }

        function updateWheel() {
            const wheel = document.getElementById('wheel');
            const segmentCount = participants.length;
            const anglePerSegment = 360 / segmentCount;
            
            // ê° êµ¬ê°„ì˜ ì‹œì‘ ê°ë„ ì €ì¥ (0ë„ë¶€í„° ì‹œì‘)
            segmentAngles = [];
            for (let i = 0; i < segmentCount; i++) {
                segmentAngles.push(i * anglePerSegment);
            }
            
            wheel.innerHTML = '';
            
            // SVGë¥¼ ì‚¬ìš©í•˜ì—¬ ì •í™•í•œ ì›í˜• ë¶„í• 
            const svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            svg.setAttribute('width', '100%');
            svg.setAttribute('height', '100%');
            svg.setAttribute('viewBox', '0 0 400 400');
            svg.style.position = 'absolute';
            svg.style.top = '0';
            svg.style.left = '0';
            
            const centerX = 200;
            const centerY = 200;
            const radius = 190;
            
            for (let i = 0; i < segmentCount; i++) {
                const startAngle = (i * anglePerSegment - 90) * Math.PI / 180;
                const endAngle = ((i + 1) * anglePerSegment - 90) * Math.PI / 180;
                
                const x1 = centerX + radius * Math.cos(startAngle);
                const y1 = centerY + radius * Math.sin(startAngle);
                const x2 = centerX + radius * Math.cos(endAngle);
                const y2 = centerY + radius * Math.sin(endAngle);
                
                const largeArcFlag = anglePerSegment > 180 ? 1 : 0;
                
                const pathData = [
                    `M ${centerX} ${centerY}`,
                    `L ${x1} ${y1}`,
                    `A ${radius} ${radius} 0 ${largeArcFlag} 1 ${x2} ${y2}`,
                    'Z'
                ].join(' ');
                
                const path = document.createElementNS('http://www.w3.org/2000/svg', 'path');
                path.setAttribute('d', pathData);
                
                const currentScheme = colorSchemes[colorSchemeIndex];
                let fillColor;
                
                if (currentScheme.colors.length === 1) {
                    // ì „ì²´ ê²€ì • ë˜ëŠ” ì „ì²´ í°ìƒ‰
                    fillColor = currentScheme.colors[0];
                } else if (colorSchemeIndex === 0) {
                    // ë ˆì¸ë³´ìš°
                    fillColor = currentScheme.colors[i % currentScheme.colors.length];
                } else {
                    // êµëŒ€ë¡œ ë‚˜íƒ€ë‚˜ëŠ” ìƒ‰ìƒë“¤
                    fillColor = currentScheme.colors[i % currentScheme.colors.length];
                }
                
                path.setAttribute('fill', fillColor);
                path.setAttribute('stroke', currentScheme.strokeColor);
                path.setAttribute('stroke-width', '2');
                
                svg.appendChild(path);
                
                // í…ìŠ¤íŠ¸ ì¶”ê°€
                const textAngle = (i + 0.5) * anglePerSegment - 90;
                const textRadius = radius * 0.7;
                const textX = centerX + textRadius * Math.cos(textAngle * Math.PI / 180);
                const textY = centerY + textRadius * Math.sin(textAngle * Math.PI / 180);
                
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('x', textX);
                text.setAttribute('y', textY);
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('dominant-baseline', 'middle');
                
                // í…ìŠ¤íŠ¸ ìƒ‰ìƒ ì„¤ì •
                const textColor = currentScheme.textColor;
                
                text.setAttribute('fill', textColor);
                text.setAttribute('font-weight', 'bold');
                text.setAttribute('font-family', 'Segoe UI, sans-serif');
                
                // ê¸€ì í¬ê¸° ì¡°ì ˆ
                let fontSize;
                if (segmentCount > 30) fontSize = '8px';
                else if (segmentCount > 20) fontSize = '10px';
                else if (segmentCount > 10) fontSize = '12px';
                else fontSize = '14px';
                
                text.setAttribute('font-size', fontSize);
                
                // í…ìŠ¤íŠ¸ íšŒì „
                if (textAngle > 90 && textAngle < 270) {
                    text.setAttribute('transform', `rotate(${textAngle + 180} ${textX} ${textY})`);
                } else {
                    text.setAttribute('transform', `rotate(${textAngle} ${textX} ${textY})`);
                }
                
                text.textContent = participants[i];
                svg.appendChild(text);
            }
            
            wheel.appendChild(svg);
        }

        function spinWheel() {
            if (isSpinning) return;
            
            isSpinning = true;
            const spinBtn = document.getElementById('spinBtn');
            spinBtn.disabled = true;
            spinBtn.textContent = 'ëŒë¦¬ëŠ” ì¤‘...';
            
            const wheel = document.getElementById('wheel');
            const spinningRings = document.getElementById('spinningRings');
            const segmentCount = participants.length;
            const anglePerSegment = 360 / segmentCount;
            
            // ëœë¤í•˜ê²Œ ë‹¹ì²¨ì ì„ íƒ (ë°°ì—´ ì¸ë±ìŠ¤ ê¸°ë°˜)
            const winnerIndex = Math.floor(Math.random() * segmentCount);
            const winner = participants[winnerIndex];
            
            console.log(`ì„ íƒëœ ë‹¹ì²¨ì: ${winner} (ì¸ë±ìŠ¤: ${winnerIndex})`);
            
            // í™”ì‚´í‘œê°€ í•´ë‹¹ êµ¬ê°„ì˜ ì •ì¤‘ì•™ì„ ê°€ë¦¬í‚¤ë„ë¡ ê³„ì‚°
            // ê° êµ¬ê°„ì˜ ì¤‘ì•™ ê°ë„ = (êµ¬ê°„ ì‹œì‘ ê°ë„ + êµ¬ê°„ í¬ê¸°/2)
            const segmentCenterAngle = winnerIndex * anglePerSegment + (anglePerSegment / 2);
            
            // í™”ì‚´í‘œê°€ 12ì‹œ ë°©í–¥ì„ ê°€ë¦¬í‚¤ë¯€ë¡œ, ì„ íƒëœ êµ¬ê°„ì˜ ì¤‘ì•™ì´ 12ì‹œì— ì˜¤ë„ë¡ íšŒì „
            const targetAngle = -segmentCenterAngle;
            
            // ì¶”ê°€ íšŒì „ (ìµœì†Œ 5ë°”í€´, ìµœëŒ€ 10ë°”í€´)
            const extraSpins = Math.floor(Math.random() * 6 + 5); // 5~10ë°”í€´
            const totalRotation = targetAngle + (extraSpins * 360);
            
            console.log(`êµ¬ê°„ ì¤‘ì•™ ê°ë„: ${segmentCenterAngle}ë„`);
            console.log(`ëª©í‘œ ê°ë„: ${targetAngle}ë„`);
            console.log(`ì¶”ê°€ íšŒì „: ${extraSpins}ë°”í€´`);
            console.log(`ì´ íšŒì „: ${totalRotation}ë„`);
            
            // ì›íŒ íšŒì „
            wheel.style.transform = `rotate(${totalRotation}deg)`;
            
            // ë™ì‹¬ì›ì´ ì›íŒê³¼ í•¨ê»˜ íšŒì „ (ë°˜ëŒ€ ë°©í–¥ìœ¼ë¡œ ë” ë¹ ë¥´ê²Œ)
            spinningRings.style.transform = `translate(-50%, -50%) rotate(${-totalRotation * 1.5}deg)`;
            
            setTimeout(() => {
                // ê²€ì¦: ìµœì¢… ìœ„ì¹˜ í™•ì¸
                const finalAngle = totalRotation % 360;
                const normalizedAngle = finalAngle < 0 ? finalAngle + 360 : finalAngle;
                
                // í™”ì‚´í‘œê°€ ê°€ë¦¬í‚¤ëŠ” êµ¬ê°„ ê³„ì‚° (12ì‹œ ë°©í–¥ ê¸°ì¤€)
                // ê°ë„ë¥¼ êµ¬ê°„ìœ¼ë¡œ ë³€í™˜í•  ë•Œ êµ¬ê°„ì˜ ì¤‘ì•™ ê¸°ì¤€ìœ¼ë¡œ ê³„ì‚°
                let pointedAngle = (360 - normalizedAngle) % 360;
                let pointedSegment = Math.floor(pointedAngle / anglePerSegment);
                
                // ê²½ê³„ì„  ê·¼ì²˜ì—ì„œì˜ ì •í™•ë„ ê°œì„ 
                const segmentOffset = (pointedAngle % anglePerSegment);
                if (segmentOffset > anglePerSegment * 0.9) {
                    pointedSegment = (pointedSegment + 1) % segmentCount;
                }
                
                const actualWinner = participants[pointedSegment];
                
                console.log(`ê²€ì¦ - ìµœì¢… ê°ë„: ${normalizedAngle}ë„`);
                console.log(`ê²€ì¦ - ê°€ë¦¬í‚¤ëŠ” ê°ë„: ${pointedAngle}ë„`);
                console.log(`ê²€ì¦ - í™”ì‚´í‘œê°€ ê°€ë¦¬í‚¤ëŠ” êµ¬ê°„: ${pointedSegment}`);
                console.log(`ê²€ì¦ - ì‹¤ì œ ë‹¹ì²¨ì: ${actualWinner}`);
                
                // ì˜ë„í•œ ë‹¹ì²¨ìì™€ ì‹¤ì œ ë‹¹ì²¨ìê°€ ì¼ì¹˜í•˜ëŠ”ì§€ í™•ì¸
                if (actualWinner === winner) {
                    console.log('âœ… ì •í™•íˆ ì¼ì¹˜!');
                } else {
                    console.log(`âš ï¸ ë¶ˆì¼ì¹˜: ì˜ë„=${winner}, ì‹¤ì œ=${actualWinner}`);
                }
                
                // ì‹¤ì œ í™”ì‚´í‘œê°€ ê°€ë¦¬í‚¤ëŠ” ë‹¹ì²¨ì í‘œì‹œ (ì •í™•ì„±ì„ ìœ„í•´ ì˜ë„í•œ ë‹¹ì²¨ì ì‚¬ìš©)
                showWinner(winner);
                
                isSpinning = false;
                spinBtn.disabled = false;
                spinBtn.textContent = 'ëŒë¦¼íŒ ëŒë¦¬ê¸°! ğŸ²';
            }, 3000);
        }

        function showWinner(winner) {
            document.getElementById('popupWinner').textContent = winner;
            document.getElementById('popup').style.display = 'flex';
            createConfetti();
            playWinnerSound();
        }

        function playWinnerSound() {
            // Web Audio APIë¥¼ ì‚¬ìš©í•œ ì¶•í•˜ ì‚¬ìš´ë“œ ìƒì„±
            try {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                
                // íŒ¡íŒŒë ˆ ê°™ì€ ì¶•í•˜ ì‚¬ìš´ë“œ ìƒì„±
                const playNote = (frequency, startTime, duration) => {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.setValueAtTime(frequency, startTime);
                    oscillator.type = 'triangle';
                    
                    gainNode.gain.setValueAtTime(0, startTime);
                    gainNode.gain.linearRampToValueAtTime(0.3, startTime + 0.01);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + duration);
                    
                    oscillator.start(startTime);
                    oscillator.stop(startTime + duration);
                };
                
                // ì¶•í•˜ ë©œë¡œë”” (ë„-ë¯¸-ì†”-ë„)
                const now = audioContext.currentTime;
                playNote(523.25, now, 0.3); // ë„
                playNote(659.25, now + 0.15, 0.3); // ë¯¸
                playNote(783.99, now + 0.3, 0.3); // ì†”
                playNote(1046.50, now + 0.45, 0.5); // ë†’ì€ ë„
                
                // ë“œëŸ¼ íš¨ê³¼
                const createDrum = (startTime) => {
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    const filter = audioContext.createBiquadFilter();
                    
                    oscillator.connect(filter);
                    filter.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.frequency.setValueAtTime(60, startTime);
                    oscillator.frequency.exponentialRampToValueAtTime(30, startTime + 0.1);
                    oscillator.type = 'triangle';
                    
                    filter.type = 'lowpass';
                    filter.frequency.setValueAtTime(200, startTime);
                    
                    gainNode.gain.setValueAtTime(0.5, startTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, startTime + 0.2);
                    
                    oscillator.start(startTime);
                    oscillator.stop(startTime + 0.2);
                };
                
                createDrum(now + 0.6);
                createDrum(now + 0.8);
                
            } catch (error) {
                console.log('ìŒí–¥ íš¨ê³¼ë¥¼ ì¬ìƒí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤:', error);
            }
        }

        function createConfetti() {
            const colors = ['#ff6b6b', '#4ecdc4', '#45b7d1', '#96ceb4', '#ffeaa7', '#dda0dd', '#98d8c8', '#f7dc6f', '#bb8fce', '#85c1e9'];
            const popupContent = document.querySelector('.popup-content');
            
            for (let i = 0; i < 30; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 90 + '%';
                    confetti.style.background = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.animationDuration = (Math.random() * 2 + 3) + 's';
                    confetti.style.animationDelay = Math.random() * 1 + 's';
                    
                    // ë‹¤ì–‘í•œ ëª¨ì–‘ ë§Œë“¤ê¸°
                    const shapes = ['circle', 'square', 'triangle', 'star'];
                    const shape = shapes[Math.floor(Math.random() * shapes.length)];
                    
                    if (shape === 'circle') {
                        confetti.style.borderRadius = '50%';
                    } else if (shape === 'triangle') {
                        confetti.style.width = '0';
                        confetti.style.height = '0';
                        confetti.style.borderLeft = '5px solid transparent';
                        confetti.style.borderRight = '5px solid transparent';
                        confetti.style.borderBottom = '10px solid ' + confetti.style.background;
                        confetti.style.background = 'transparent';
                    } else if (shape === 'star') {
                        confetti.innerHTML = 'â˜…';
                        confetti.style.background = 'transparent';
                        confetti.style.color = colors[Math.floor(Math.random() * colors.length)];
                        confetti.style.fontSize = '12px';
                        confetti.style.width = 'auto';
                        confetti.style.height = 'auto';
                    }
                    
                    popupContent.appendChild(confetti);
                    
                    // 5ì´ˆ í›„ ì œê±°
                    setTimeout(() => {
                        if (confetti.parentNode) {
                            confetti.parentNode.removeChild(confetti);
                        }
                    }, 5000);
                }, i * 100);
            }
        }

        function closePopup() {
            document.getElementById('popup').style.display = 'none';
            // ë‚¨ì€ ì½˜í˜í‹° ì œê±°
            const confettis = document.querySelectorAll('.confetti');
            confettis.forEach(confetti => {
                if (confetti.parentNode) {
                    confetti.parentNode.removeChild(confetti);
                }
            });
        }

        function handleFileUpload(event) {
            const file = event.target.files[0];
            if (!file) return;

            const statusDiv = document.getElementById('uploadStatus');
            statusDiv.innerHTML = '<div class="upload-status">íŒŒì¼ì„ ì½ëŠ” ì¤‘...</div>';

            const fileName = file.name.toLowerCase();
            const fileExtension = fileName.split('.').pop();

            if (fileExtension === 'txt' || fileExtension === 'csv') {
                handleTextFile(file);
            } else if (fileExtension === 'xlsx' || fileExtension === 'xls') {
                handleExcelFile(file);
            } else if (fileExtension === 'docx' || fileExtension === 'doc') {
                handleWordFile(file);
            } else {
                showUploadError('ì§€ì›í•˜ì§€ ì•ŠëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤.');
            }
        }

        function handleTextFile(file) {
            // ë¨¼ì € UTF-8ë¡œ ì‹œë„
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    let text = e.target.result;
                    
                    // í•œê¸€ì´ ê¹¨ì¡ŒëŠ”ì§€ í™•ì¸ (ë¬¼ìŒí‘œë‚˜ ì´ìƒí•œ ë¬¸ìê°€ ë§ì´ í¬í•¨ëœ ê²½ìš°)
                    const brokenChars = (text.match(/[ï¿½?]/g) || []).length;
                    const totalChars = text.length;
                    
                    if (brokenChars > totalChars * 0.1 || text.includes('Ã¯Â»Â¿')) {
                        // UTF-8ë¡œ ì½ê¸° ì‹¤íŒ¨, EUC-KRë¡œ ë‹¤ì‹œ ì‹œë„
                        tryReadWithEUCKR(file);
                        return;
                    }
                    
                    const names = parseTextContent(text);
                    updateParticipantsFromFile(names);
                } catch (error) {
                    // UTF-8 ì‹¤íŒ¨ì‹œ EUC-KRë¡œ ì¬ì‹œë„
                    tryReadWithEUCKR(file);
                }
            };
            reader.readAsText(file, 'UTF-8');
        }

        function tryReadWithEUCKR(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const arrayBuffer = e.target.result;
                    const decoder = new TextDecoder('euc-kr');
                    const text = decoder.decode(arrayBuffer);
                    
                    const names = parseTextContent(text);
                    updateParticipantsFromFile(names);
                } catch (error) {
                    // EUC-KRë„ ì‹¤íŒ¨í•˜ë©´ CP949 ì‹œë„
                    tryReadWithCP949(file);
                }
            };
            reader.readAsArrayBuffer(file);
        }

        function tryReadWithCP949(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const arrayBuffer = e.target.result;
                    // CP949ëŠ” ë¸Œë¼ìš°ì €ì—ì„œ ì§ì ‘ ì§€ì›í•˜ì§€ ì•Šìœ¼ë¯€ë¡œ EUC-KRë¡œ ëŒ€ì²´
                    const decoder = new TextDecoder('euc-kr');
                    let text = decoder.decode(arrayBuffer);
                    
                    // ì—¬ì „íˆ ê¹¨ì§„ë‹¤ë©´ ë°”ì´íŠ¸ë¥¼ ì§ì ‘ ì²˜ë¦¬
                    if (text.includes('ï¿½')) {
                        text = handleBrokenEncoding(arrayBuffer);
                    }
                    
                    const names = parseTextContent(text);
                    updateParticipantsFromFile(names);
                } catch (error) {
                    showUploadError('íŒŒì¼ ì¸ì½”ë”©ì„ ì½ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. UTF-8 ë˜ëŠ” EUC-KR ì¸ì½”ë”©ìœ¼ë¡œ ì €ì¥ëœ íŒŒì¼ì„ ì‚¬ìš©í•´ì£¼ì„¸ìš”.');
                }
            };
            reader.readAsArrayBuffer(file);
        }

        function handleBrokenEncoding(arrayBuffer) {
            // ë°”ì´íŠ¸ ë°°ì—´ì„ ì§ì ‘ ì²˜ë¦¬í•˜ì—¬ í•œê¸€ ë³µêµ¬ ì‹œë„
            const bytes = new Uint8Array(arrayBuffer);
            let result = '';
            
            for (let i = 0; i < bytes.length; i++) {
                const byte = bytes[i];
                
                // ASCII ë²”ìœ„ (ì˜ë¬¸, ìˆ«ì, ê¸°ë³¸ ê¸°í˜¸)
                if (byte < 128) {
                    result += String.fromCharCode(byte);
                }
                // í•œê¸€ ë²”ìœ„ ì¶”ì • (EUC-KR)
                else if (byte >= 0xA1 && byte <= 0xFE && i + 1 < bytes.length) {
                    const nextByte = bytes[i + 1];
                    if (nextByte >= 0xA1 && nextByte <= 0xFE) {
                        // EUC-KR í•œê¸€ ì½”ë“œ ë²”ìœ„
                        const code = (byte << 8) | nextByte;
                        try {
                            // ê°„ë‹¨í•œ EUC-KR to Unicode ë³€í™˜ ì‹œë„
                            result += String.fromCharCode(code);
                        } catch (e) {
                            result += '?';
                        }
                        i++; // ë‹¤ìŒ ë°”ì´íŠ¸ ê±´ë„ˆë›°ê¸°
                    } else {
                        result += '?';
                    }
                }
                else {
                    // ê¸°íƒ€ ë¬¸ìëŠ” ê·¸ëŒ€ë¡œ ì²˜ë¦¬
                    result += String.fromCharCode(byte);
                }
            }
            
            return result;
        }

        function handleExcelFile(file) {
            // ì—‘ì…€ íŒŒì¼ì˜ ê²½ìš° ê¸°ë³¸ì ì¸ CSV í˜•íƒœë¡œ ì²˜ë¦¬
            // ì‹¤ì œ ì—‘ì…€ íŒŒì¼ ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ì§€ë§Œ
            // ì—¬ê¸°ì„œëŠ” ì‚¬ìš©ìê°€ CSVë¡œ ì €ì¥í•œ íŒŒì¼ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì•ˆë‚´
            showUploadError('ì—‘ì…€ íŒŒì¼ì€ CSV í˜•ì‹ìœ¼ë¡œ ì €ì¥í•œ í›„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”. (íŒŒì¼ > ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì €ì¥ > CSV í˜•ì‹ ì„ íƒ)');
        }

        function handleWordFile(file) {
            // ì›Œë“œ íŒŒì¼ì˜ ê²½ìš° í…ìŠ¤íŠ¸ í˜•íƒœë¡œ ì²˜ë¦¬
            // ì‹¤ì œ ì›Œë“œ íŒŒì¼ ì²˜ë¦¬ë¥¼ ìœ„í•´ì„œëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ì§€ë§Œ
            // ì—¬ê¸°ì„œëŠ” ì‚¬ìš©ìê°€ í…ìŠ¤íŠ¸ë¡œ ì €ì¥í•œ íŒŒì¼ì„ ì²˜ë¦¬í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì•ˆë‚´
            showUploadError('ì›Œë“œ íŒŒì¼ì€ í…ìŠ¤íŠ¸ í˜•ì‹(.txt)ìœ¼ë¡œ ì €ì¥í•œ í›„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”. (íŒŒì¼ > ë‹¤ë¥¸ ì´ë¦„ìœ¼ë¡œ ì €ì¥ > í…ìŠ¤íŠ¸ í˜•ì‹ ì„ íƒ)');
        }

        function parseTextContent(text) {
            // ë‹¤ì–‘í•œ êµ¬ë¶„ìë¡œ ë¶„ë¦¬ ì‹œë„
            let names = [];
            
            // ì¤„ë°”ê¿ˆìœ¼ë¡œ ë¶„ë¦¬
            const lines = text.split(/\r?\n/);
            for (let line of lines) {
                line = line.trim();
                if (line) {
                    // ì‰¼í‘œë¡œ êµ¬ë¶„ëœ ê²½ìš°
                    if (line.includes(',')) {
                        const commaSeparated = line.split(',').map(name => name.trim()).filter(name => name);
                        names.push(...commaSeparated);
                    }
                    // íƒ­ìœ¼ë¡œ êµ¬ë¶„ëœ ê²½ìš°
                    else if (line.includes('\t')) {
                        const tabSeparated = line.split('\t').map(name => name.trim()).filter(name => name);
                        names.push(...tabSeparated);
                    }
                    // ê³µë°±ìœ¼ë¡œ êµ¬ë¶„ëœ ê²½ìš° (ì—¬ëŸ¬ ê³µë°±)
                    else if (line.includes('  ')) {
                        const spaceSeparated = line.split(/\s+/).map(name => name.trim()).filter(name => name);
                        names.push(...spaceSeparated);
                    }
                    // ë‹¨ì¼ ì´ë¦„
                    else {
                        names.push(line);
                    }
                }
            }
            
            // ë¹ˆ ê°’ë§Œ ì œê±° (ì¤‘ë³µì€ ìœ ì§€)
            names = names.filter(name => name && name.length > 0);
            
            // ì¤‘ë³µì´ ìˆëŠ”ì§€ í™•ì¸í•˜ê³  ì‚¬ìš©ìì—ê²Œ ì•Œë¦¼
            const uniqueNames = [...new Set(names)];
            if (names.length !== uniqueNames.length) {
                const duplicateCount = names.length - uniqueNames.length;
                console.log(`ì¤‘ë³µëœ ì´ë¦„ ${duplicateCount}ê°œ ë°œê²¬:`, names);
                
                // ì¤‘ë³µ ì œê±°í• ì§€ ì‚¬ìš©ìì—ê²Œ ë¬¼ì–´ë³´ê¸°
                const removeDuplicates = confirm(`íŒŒì¼ì—ì„œ ì¤‘ë³µëœ ì´ë¦„ ${duplicateCount}ê°œë¥¼ ë°œê²¬í–ˆìŠµë‹ˆë‹¤.\n\nì „ì²´: ${names.length}ëª…\nì¤‘ë³µ ì œê±° í›„: ${uniqueNames.length}ëª…\n\nì¤‘ë³µì„ ì œê±°í•˜ì‹œê² ìŠµë‹ˆê¹Œ?\n\n"í™•ì¸" = ì¤‘ë³µ ì œê±° (${uniqueNames.length}ëª…)\n"ì·¨ì†Œ" = ì¤‘ë³µ ìœ ì§€ (${names.length}ëª…)`);
                
                if (removeDuplicates) {
                    return uniqueNames;
                } else {
                    return names;
                }
            }
            
            return names;
        }

        function updateParticipantsFromFile(names) {
            if (names.length === 0) {
                showUploadError('íŒŒì¼ì—ì„œ ì°¸ê°€ì ì´ë¦„ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }

            if (names.length > 101) {
                showUploadError(`ì°¸ê°€ìê°€ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. (${names.length}ëª…) ìµœëŒ€ 101ëª…ê¹Œì§€ ê°€ëŠ¥í•©ë‹ˆë‹¤.`);
                return;
            }

            if (names.length < 2) {
                showUploadError('ìµœì†Œ 2ëª…ì˜ ì°¸ê°€ìê°€ í•„ìš”í•©ë‹ˆë‹¤.');
                return;
            }

            // íŒŒì¼ì—ì„œ ì½ì€ ì°¸ê°€ì ìˆ˜ì— ë§ì¶° ìë™ìœ¼ë¡œ ì¡°ì •
            participants = names;
            document.getElementById('segmentCount').value = participants.length;
            document.getElementById('segmentCount').max = Math.max(101, participants.length); // ìµœëŒ€ê°’ë„ ì¡°ì •
            updateParticipantsList();
            
            showUploadSuccess(`${names.length}ëª…ì˜ ì°¸ê°€ìë¥¼ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤! "ğŸ¯ ì›íŒì— ì ìš©í•˜ê¸°" ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.`);
        }

        function loadPracticeFile() {
            const practiceNames = [
                'ì´ë¯¸ìˆ™', 'ì¥ìœ ë¦¬', 'ê¹€í˜œì˜', 'í™©ë³´ì£¼í¬', 'ì´ì°½ì¬', 'ì´ì„ í¬', 'ê¹€íš¨ì •(4í•™ë…„)', 'ì´ìœ¤í¬',
                'ì„ì¤‘ìˆœ', 'ê¹€ì§„ê²½', 'Sett Wong Carmen', 'ê¹€ì¢…í˜„', 'ì„œíš¨ìˆ™', 'ê¹€ì†Œì •', 'ì‹ ì„ í˜œ', 'ìµœì •ë¯¸',
                'í™©ê¸ˆì´', 'ê¶Œí—Œìˆ™', 'ì¡°ìŠ¹ìš°', 'ì´ì†Œë¯¸', 'ê¹€íš¨ì •(3, 4í•™ë…„)', 'ì†ì •ìˆœ', 'ì´ì •í™”', 'ì´í•œë¼',
                'ë°•ì§€ì„ ', 'ê¶Œí˜œë¯¼', 'ê¹€ë¯¼ì•„', 'ìµœë¯¸ê²½', 'ê¶Œê¸°íƒœ'
            ];
            
            participants = [...practiceNames];
            document.getElementById('segmentCount').value = participants.length;
            updateParticipantsList();
            
            const statusDiv = document.getElementById('uploadStatus');
            statusDiv.innerHTML = `<div class="upload-status upload-success">ğŸ“ ì—°ìŠµíŒŒì¼ì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤! (${practiceNames.length}ëª…) "ğŸ¯ ì›íŒì— ì ìš©í•˜ê¸°" ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.</div>`;
            setTimeout(() => {
                statusDiv.innerHTML = '';
            }, 3000);
        }

        function showUploadSuccess(message) {
            const statusDiv = document.getElementById('uploadStatus');
            statusDiv.innerHTML = `<div class="upload-status upload-success">${message}</div>`;
            setTimeout(() => {
                statusDiv.innerHTML = '';
            }, 3000);
        }

        function showUploadError(message) {
            const statusDiv = document.getElementById('uploadStatus');
            statusDiv.innerHTML = `<div class="upload-status upload-error">${message}</div>`;
            setTimeout(() => {
                statusDiv.innerHTML = '';
            }, 5000);
        }

        function resetToDefault() {
            participants = ['ì°¸ê°€ì1', 'ì°¸ê°€ì2', 'ì°¸ê°€ì3', 'ì°¸ê°€ì4', 'ì°¸ê°€ì5', 'ì°¸ê°€ì6', 'ì°¸ê°€ì7', 'ì°¸ê°€ì8'];
            document.getElementById('segmentCount').value = 8;
            document.getElementById('fileInput').value = '';
            updateParticipantsList();
            updateWheel();
            
            const statusDiv = document.getElementById('uploadStatus');
            statusDiv.innerHTML = '<div class="upload-status upload-success">ê¸°ë³¸ ì°¸ê°€ì ëª©ë¡ìœ¼ë¡œ ë˜ëŒë ¸ìŠµë‹ˆë‹¤!</div>';
            setTimeout(() => {
                statusDiv.innerHTML = '';
            }, 2000);
        }

        // ğŸ†• ìƒˆë¡œìš´ ê¸°ëŠ¥: ì´ì „ ì„¤ì • ì €ì¥ ë° ë¶ˆëŸ¬ì˜¤ê¸° (ë¡œì»¬ ì €ì¥ì†Œ í¬í•¨)

        // ë¶ˆëŸ¬ì˜¤ê¸° ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
        function updateLoadButton() {
            const loadBtn = document.getElementById('loadPreviousBtn');
            if (loadBtn && previousSettings && previousSettings.participants && previousSettings.participants.length >= 2) {
                loadBtn.disabled = false;
                loadBtn.title = `ì´ì „ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸° (${previousSettings.participants.length}ëª…, ${previousSettings.timestamp})`;
                loadBtn.textContent = `ğŸ“‹ ë¶ˆëŸ¬ì˜¤ê¸° (${previousSettings.participants.length}ëª…)`;
            } else if (loadBtn) {
                loadBtn.disabled = true;
                loadBtn.title = 'ì´ì „ ì„¤ì •ì´ ì—†ìŠµë‹ˆë‹¤';
                loadBtn.textContent = 'ğŸ“‹ ë¶ˆëŸ¬ì˜¤ê¸°';
            }
        }

        // ğŸ†• í˜ì´ì§€ ë¡œë“œì‹œ ì €ì¥ëœ ì„¤ì • ìë™ ë¶ˆëŸ¬ì˜¤ê¸°
        function loadSavedSettings() {
            try {
                const saved = localStorage.getItem('wheelSettingsV2');
                console.log('ë¡œì»¬ ì €ì¥ì†Œì—ì„œ ë¶ˆëŸ¬ì˜¨ ë°ì´í„°:', saved);
                
                if (saved) {
                    const savedSettings = JSON.parse(saved);
                    console.log('íŒŒì‹±ëœ ì„¤ì •:', savedSettings);
                    
                    // ì €ì¥ëœ ì„¤ì •ì´ ìœ íš¨í•œì§€ í™•ì¸
                    if (savedSettings.participants && Array.isArray(savedSettings.participants) && savedSettings.participants.length >= 2) {
                        previousSettings = savedSettings;
                        console.log('ìœ íš¨í•œ ì„¤ì • ë°œê²¬:', savedSettings.participants.length + 'ëª…');
                        
                        // ë¶ˆëŸ¬ì˜¤ê¸° ë²„íŠ¼ í™œì„±í™”
                        updateLoadButton();
                    } else {
                        console.log('ì €ì¥ëœ ì„¤ì •ì´ ìœ íš¨í•˜ì§€ ì•ŠìŒ');
                    }
                } else {
                    console.log('ì €ì¥ëœ ì„¤ì •ì´ ì—†ìŒ');
                }
            } catch (error) {
                console.log('ì €ì¥ëœ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:', error);
            }
        }

        function loadPreviousSettings() {
            console.log('ë¶ˆëŸ¬ì˜¤ê¸° ë²„íŠ¼ í´ë¦­ë¨');
            console.log('í˜„ì¬ previousSettings:', previousSettings);
            
            if (!previousSettings || !previousSettings.participants || previousSettings.participants.length < 2) {
                alert('ë¶ˆëŸ¬ì˜¬ ì´ì „ ì„¤ì •ì´ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            console.log('ë¶ˆëŸ¬ì˜¬ ì°¸ê°€ì ìˆ˜:', previousSettings.participants.length);
            console.log('ì°¸ê°€ì ëª©ë¡:', previousSettings.participants);
            
            // ì´ì „ ì°¸ê°€ì ëª©ë¡ ë³µì›
            participants = [...previousSettings.participants];
            document.getElementById('segmentCount').value = participants.length;
            
            // ì´ì „ ìƒ‰ìƒ í…Œë§ˆ ë³µì›
            if (previousSettings.colorSchemeIndex !== undefined && previousSettings.colorSchemeIndex !== colorSchemeIndex) {
                colorSchemeIndex = previousSettings.colorSchemeIndex;
                const btn = document.getElementById('colorScheme');
                const currentScheme = colorSchemes[colorSchemeIndex];
                btn.textContent = currentScheme.name;
                
                if (colorSchemeIndex === 0) {
                    btn.classList.add('rainbow');
                } else {
                    btn.classList.remove('rainbow');
                }
            }
            
            // ëŒë¦¼íŒê³¼ ë™ì‹¬ì› íšŒì „ ìƒíƒœ ì™„ì „íˆ ì´ˆê¸°í™”
            const wheel = document.getElementById('wheel');
            const spinningRings = document.getElementById('spinningRings');
            wheel.style.transition = 'none'; // ì• ë‹ˆë©”ì´ì…˜ ì¼ì‹œ ì¤‘ì§€
            wheel.style.transform = 'rotate(0deg)'; // íšŒì „ ì´ˆê¸°í™”
            spinningRings.style.transition = 'none';
            spinningRings.style.transform = 'translate(-50%, -50%) rotate(0deg)';
            
            // UI ì—…ë°ì´íŠ¸ - ìˆœì„œê°€ ì¤‘ìš”í•©ë‹ˆë‹¤!
            updateParticipantsList(); // ë¨¼ì € ì°¸ê°€ì ëª©ë¡ UI ì—…ë°ì´íŠ¸
            updateWheel(); // ê·¸ ë‹¤ìŒ ì›íŒ ì™„ì „íˆ ìƒˆë¡œ ê·¸ë¦¬ê¸°
            
            // ì• ë‹ˆë©”ì´ì…˜ ë‹¤ì‹œ í™œì„±í™” (ì•½ê°„ì˜ ì§€ì—° í›„)
            setTimeout(() => {
                wheel.style.transition = 'transform 3s cubic-bezier(0.23, 1, 0.32, 1)';
                spinningRings.style.transition = 'transform 3s cubic-bezier(0.23, 1, 0.32, 1)';
            }, 100);
            
            // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
            const statusDiv = document.getElementById('uploadStatus');
            statusDiv.innerHTML = `<div class="upload-status upload-success">âœ… ì´ì „ ì„¤ì •ì„ ë¶ˆëŸ¬ì™”ìŠµë‹ˆë‹¤! (${previousSettings.participants.length}ëª…, ${previousSettings.timestamp})</div>`;
            setTimeout(() => {
                statusDiv.innerHTML = '';
            }, 3000);
            
            console.log('ë¶ˆëŸ¬ì˜¤ê¸° ì™„ë£Œ');
        }

        // ğŸ†• í˜„ì¬ ì›íŒì— ì ìš©ëœ ì„¤ì •ì„ ì „ì—­ ë³€ìˆ˜ë¡œ ì¶”ì 
        let currentWheelSettings = {
            participants: ['ì°¸ê°€ì1', 'ì°¸ê°€ì2', 'ì°¸ê°€ì3', 'ì°¸ê°€ì4', 'ì°¸ê°€ì5', 'ì°¸ê°€ì6', 'ì°¸ê°€ì7', 'ì°¸ê°€ì8'],
            colorSchemeIndex: 0
        };

        function applyParticipantsToWheel() {
            // í˜„ì¬ ì…ë ¥ëœ ì°¸ê°€ìë“¤ì„ ìˆ˜ì§‘
            const inputs = document.querySelectorAll('#participantsList input');
            const newParticipants = [];
            
            inputs.forEach(input => {
                const name = input.value.trim();
                if (name) {
                    newParticipants.push(name);
                }
            });
            
            if (newParticipants.length < 2) {
                alert('ìµœì†Œ 2ëª…ì˜ ì°¸ê°€ìê°€ í•„ìš”í•©ë‹ˆë‹¤.');
                return;
            }
            
            if (newParticipants.length > 101) {
                alert('ìµœëŒ€ 101ëª…ê¹Œì§€ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                return;
            }
            
            // ğŸ¯ ì§„ì§œ ì´ì „ ì„¤ì • ì €ì¥: í˜„ì¬ ì›íŒì— ì ìš©ëœ ì„¤ì •ì„ ì €ì¥
            if (currentWheelSettings.participants && currentWheelSettings.participants.length >= 2) {
                previousSettings = {
                    participants: [...currentWheelSettings.participants], // í˜„ì¬ ì›íŒì˜ ì‹¤ì œ ì„¤ì • ì €ì¥
                    colorSchemeIndex: currentWheelSettings.colorSchemeIndex,
                    timestamp: new Date().toLocaleString('ko-KR', {
                        year: 'numeric',
                        month: '2-digit',
                        day: '2-digit',
                        hour: '2-digit',
                        minute: '2-digit'
                    })
                };
                
                // ë¸Œë¼ìš°ì € ë¡œì»¬ ì €ì¥ì†Œì—ë„ ì €ì¥ (V2 í‚¤ ì‚¬ìš©)
                try {
                    localStorage.setItem('wheelSettingsV2', JSON.stringify(previousSettings));
                    console.log('ì´ì „ ì„¤ì • ì €ì¥ë¨:', previousSettings.participants.length + 'ëª…');
                } catch (error) {
                    console.log('ë¡œì»¬ ì €ì¥ì†Œ ì €ì¥ ì‹¤íŒ¨:', error);
                }
            }
            
            // ìƒˆë¡œìš´ ì„¤ì •ì„ ì›íŒì— ì ìš©
            participants = newParticipants;
            document.getElementById('segmentCount').value = participants.length;
            updateWheel();
            
            // ğŸ†• í˜„ì¬ ì›íŒ ì„¤ì • ì—…ë°ì´íŠ¸
            currentWheelSettings = {
                participants: [...newParticipants],
                colorSchemeIndex: colorSchemeIndex
            };
            
            // ë¶ˆëŸ¬ì˜¤ê¸° ë²„íŠ¼ ì—…ë°ì´íŠ¸ (ì´ì „ ì„¤ì • ê¸°ì¤€ìœ¼ë¡œ)
            updateLoadButton();
            
            // ì„±ê³µ ë©”ì‹œì§€ í‘œì‹œ
            const statusDiv = document.getElementById('uploadStatus');
            statusDiv.innerHTML = `<div class="upload-status upload-success">${participants.length}ëª…ì˜ ì°¸ê°€ìê°€ ì›íŒì— ì ìš©ë˜ì—ˆìŠµë‹ˆë‹¤!</div>`;
            setTimeout(() => {
                statusDiv.innerHTML = '';
            }, 3000);
        }

        // ì´ˆê¸°í™”
        initializeParticipants(); // ë¨¼ì € ê¸°ë³¸ ì°¸ê°€ì ì´ˆê¸°í™”
        loadSavedSettings(); // ê·¸ ë‹¤ìŒ ì €ì¥ëœ ì„¤ì • í™•ì¸í•˜ì—¬ ë¶ˆëŸ¬ì˜¤ê¸° ë²„íŠ¼ í™œì„±í™”
        
        // ì´ˆê¸° ë²„íŠ¼ í…ìŠ¤íŠ¸ ì„¤ì •
        document.getElementById('colorScheme').innerHTML = colorSchemes[colorSchemeIndex].name + ' <span class="click-indicator">â–¶</span>';
        document.getElementById('colorScheme').classList.add('rainbow');
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9895a39fb5f05141',t:'MTc1OTU5MDk3My4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
